# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2021-02-11 23:24+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:1
#, no-wrap
msgid "---\n"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:10
#, no-wrap
msgid ""
"layout: blog\n"
"title: RESTful queries coming to Infinispan 9.2\n"
"permalink: /blog/:year/:month/:day/restful-queries-coming-to-infinispan-92\n"
"date: '2018-02-09T04:00:00.000-08:00'\n"
"author: gustavonalle\n"
"tags: [ \" rest query\", \"Protobuf\", \"JSON\", \"query\" ]\n"
"blogger_id: tag:blogger.com,1999:blog-5717179571414330874.post-9003477498202325065\n"
"blogger_orig_url: https://blog.infinispan.org/2018/02/restful-queries-coming-to-infinispan-92.html\n"
"---\n"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:18
msgid "One of the interesting features in the upcoming Infinispan 9.2 release is the possibility to execute queries over the REST endpoint, enabling users to take advantage of the easy-to-use and expressiveness of the Ickle query language, that combines a subset of JP-QL with full-text features. You can learn more info about Ickle in a http://blog.infinispan.org/2016/12/meet-ickle.html[previous post]."
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:23
msgid "Besides exposing query over REST, Infinispan 9.2 also adds support for mapping between JSON and Protobuf formats, allowing an efficient storage in binary format while exposing queries, reading and writing content as JSON documents."
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:26
msgid "To illustrate those new capabilities, this post will walk you through a sample app from scratch!"
msgstr ""

#. type: Title ===
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:28
#, no-wrap
msgid "Sample app"
msgstr ""

#. type: Title =====
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:30
#, no-wrap
msgid "Running the server"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:35
msgid "We start by https://github.com/jboss-dockerfiles/infinispan/tree/master/server[running] the Infinispan Server 9.2.0.CR2 (the latest release candidate):"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:41
msgid "This will get you a fresh instance of Infinispan running, with login and password 'user' and the REST port 8080 mapped to localhost. TIP: if you run more than one container, they'll form a cluster automatically."
msgstr ""

#. type: Title =====
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:43
#, no-wrap
msgid "Creating an indexed cache"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:50
msgid "Next step is to create an indexed cache called 'pokemon'. We make use of the CLI  (Command Line Interface) to create this cache. In the future, with https://issues.jboss.org/browse/ISPN-8529[ISPN-8529], we'll also be able to create cache with arbitrary configuration using REST, but for now we execute a CLI recipe:"
msgstr ""

#. type: Title =====
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:54
#, no-wrap
msgid "Creating the schema"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:60
msgid "In order to be able to query, we need to define a protobuf schema for our data. The schema follows the Protobuf 2 format (Protobuf 3 support is coming) and allows for extensions to define indexing properties (analyzers, storage, etc)."
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:62
msgid "Here's how it looks like:"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:69
msgid "The protobuf schema can contain some comments on top of fields and messages with \"annotations\" to control indexing. Hibernate Search users will recognize some of those pseudo annotations we are using here: they resemble closely their counterpart."
msgstr ""

#. type: Title =====
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:72
#, no-wrap
msgid "Registering the schema"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:75
msgid "Once we have our schema, we can easily register it via REST:"
msgstr ""

#. type: Title =====
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:79
#, no-wrap
msgid "Populating the cache"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:85
msgid "We're now ready to put some data in the cache. As mentioned earlier, ingesting can be done by sending JSON documents directly. Once Infinispan receives those documents, it will convert them to protobuf, index and store them."
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:90
msgid "In order to match a particular inbound document to an entity in the schema, Infinispan uses a special meta field called *__type_* that must be provided in the document. Here's an example of a JSON document that conforms to our schema:"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:93
msgid "Writing the document is easy:"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:97
msgid "we can retrieve content by key as JSON:"
msgstr ""

#. type: Title =====
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:101
#, no-wrap
msgid "Querying"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:107
msgid "The new query endpoint can be called with an \"action\" parameter named \"search\", after the cache name. The simplest query, which returns all data can be done with:"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:110
msgid "http://localhost:8080/rest/pokemon?action=search&query=from%20Pokemon[http://localhost:8080/rest/pokemon?action=search&query=from Pokemon]"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:113
msgid "If you do not want to return all the fields, use a _Select_ clause:"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:116
msgid "http://localhost:8080/rest/pokemon?action=search&query=Select%20name,%20speed%20from%20Pokemon[http://localhost:8080/rest/pokemon?action=search&query=Select name, speed from Pokemon]"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:120
msgid "Pagination can be controlled with the _offset_, _max_results_ URL parameters:"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:123
msgid "http://localhost:8080/rest/pokemon?action=search&query=from%20Pokemon&offset=2&max_results=20[http://localhost:8080/rest/pokemon?action=search&query=from Pokemon&offset=2&max_results=20]"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:126
msgid "Grouping is also possible:"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:129
msgid "http://localhost:8080/rest/pokemon?action=search&query=select%20count(p.name)%20from%20Pokemon%20p%20group%20by%20generation[http://localhost:8080/rest/pokemon?action=search&query=select count(p.name) from Pokemon p group by generation]"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:132
msgid "Example of a query result:"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:136
msgid "http://localhost:8080/rest/pokemon?action=search&query=select%20name,pokedex_number,against_fire%20from%20Pokemon%20order%20by%20against_fire%20asc&max_results=5[http://localhost:8080/rest/pokemon?action=search&query=select name,pokedex_number,against_fire from Pokemon order by against_fire asc&max_results=5]"
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:138
msgid "Results:"
msgstr ""

#. type: Title ===
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:144
#, no-wrap
msgid "Conclusion"
msgstr ""

#. type: Title ===
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:146
#, no-wrap
msgid " "
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:151
msgid "Infinispan 9.2 makes it easier to quickly ingest and query datasets using the ubiquitous JSON format, without sacrificing type safety and storage size."
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:155
msgid "By storing Protobuf, this will also enable other clients like the Hot Rod C#/C++ clients to query, read and write data simultaneously with REST clients."
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:159
msgid "The full source code for the demo, along with instructions on how to populate the whole dataset can be found at https://github.com/infinispan-demos/infinispan-pokemon[Github]."
msgstr ""

#. type: Plain text
#: upstream/_posts/2018-02-09-restful-queries-coming-to-infinispan-92.adoc:162
msgid "Finally, please try out this new feature in your own dataset and let us know how it goes!"
msgstr ""
